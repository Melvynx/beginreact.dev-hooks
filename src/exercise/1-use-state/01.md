# useState

`useState` est le hook **le plus utilisÃ©** dans React (et le plus simple).

Il a un seul but :

> Garder un Ã©tat dans un composant synchronisÃ© avec l'interface.

Pour faire en sorte que ton composant soit toujours Ã  jour, il faut que React
connaisse le moment oÃ¹ tu update le state. C'est pour cette raison que la crÃ©ation
d'un state se fait avec :

```js
const [state, setState] = useState(initialState);
```

`useState` retourne un tableau de deux Ã©lÃ©ments :

- Le `current state` de cette variable, que l'`initial state` dÃ©finit par dÃ©faut
- La `set function` qui va changer le state avec n'importe quelle autre valeur.

Donc pour update le state il faut utiliser `setState(newState)`.

[ğŸ“– useState](https://beta.reactjs.org/apis/usestate)

## Exercice 1 - Simple useState

Ajoute un state pour que l'application te dise bonjour avec ton nom en temps rÃ©el.

Instructions dans le fichier.

- ğŸ’Œ Tu comprends comment basiquement crÃ©er un state.

## Extra 2 - Ajout d'un nouveau state

Ajoute une checkbox qui, quand elle est activÃ©e, va afficher le prÃ©nom **inversÃ©**.

- Melvyn -> nyvyleM
- Jean -> naeJ

ğŸ¦ Tu peux ajouter une checkbox (`<input type="checkbox" />`) **controller**.

Attention, il te faut rajouter un nouveau state.
Et Ã  aucun moment il faut inverser la valeur du state `name` (non pas que ce serait
une erreur, juste que ce n'est pas mon but avec mon exercice).

[ğŸ“– Comment inverser une string en JS](https://www.youtube.com/watch?v=ygP1PMkDz0I)

- ğŸ’Œ Tu apprends ici Ã  gÃ©rer un affichage d'Ã©tat en fonction d'autres Ã©tats.
- ğŸ’Œ Tu apprends aussi Ã  gÃ©rer un boolean en fonction de sa valeur prÃ©cÃ©dente.

## Extra 3 - Stocker chaque changement de notre state

Notre state change, il faut stocker ce changement dans un autre state et les
afficher sous forme de liste

```jsx
<ul>
  {nameHistory.map((name, i) => (
    <li key={i}>{name}</li>
  ))}
</ul>
```

ğŸ’¡ Je mets `key={i}` et pas `key={name}` car notre liste ne change jamais d'ordre
et qu'un nom peut revenir plusieurs fois.

ğŸ’¡ Il ne faut pas utiliser `nameHistory.push`.

[ğŸ“– Alors comment faire ?](https://bobbyhadz.com/blog/react-push-to-state-array)

- ğŸ’Œ Tu apprends Ã  ajouter dans une liste.
- ğŸ’Œ Tu comprendras le lifecycle des hooks avec un bug expliquÃ©.

## Extra 4 - Supprimer des "NameHistory"

Quand tu cliques sur un historique, tu vas supprimer celui-ci de la liste.

```jsx
<ul>
  {nameHistory.map((name, i) => (
    <li key={i} onClick={() => deleteHistory(i)}>
      {name}
    </li>
  ))}
</ul>
```

Il te faut rajouter la fonction `deleteHistory` qui va supprimer le bon Ã©lÃ©ment
de la liste en fonction de l'index.

âš ï¸ Notre composant devient **complexe**. CrÃ©e un hooks `useStateHistory`
et met tout ce qui a un rapport avec l'historique dedans.

- ğŸ’Œ Tu apprends Ã  supprimer dans une liste.
- ğŸ’Œ Tu apprends Ã  correctement utiliser les custom hooks.
